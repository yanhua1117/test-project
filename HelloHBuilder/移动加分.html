<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="reset.css"/>
		<style type="text/css">
			.all{
				width: 600px;
				height: 200px;
				border: 1px solid lightpink;
			}
			.main{
				width: 580px;
				height: 50px;
				border: 1px solid pink;
				margin: 140px auto;
			}
			.list li{
				width: 50px;
				height: 50px;
				font-size: 30px;
				font-weight: bold;
				float: left;
				/*border: 1px solid black;*/
				text-align: center;
				line-height: 50px;
				margin-right: 2px;
				position: absolute;
				top: 140px;
				opacity:1;
				-webkit-transition: opacity .25s linear;
				-moz-transition: opacity .25s linear;
				-ms-transition: opacity .25s linear;
				-o-transition: opacity .25s linear;
				transition: opacity .25s linear;
			}
		</style>
		<script src="js/doMove.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			window.onload = function (){
				
				var oDiv = document.getElementsByClassName('main')[0];
				var aLi = document.getElementsByTagName('li');
				var timer = null;
				var cur = 10;

				//给每一个li加左侧距离
				for( var i = 0; i < aLi.length; i++ ){
					aLi[i].style.left = 20 + 50*i + 'px';
				}
				
				oDiv.onclick = function (){
					var num = 0;
					clearInterval( timer );
					
//					for( var i = 0; i < aLi.length; i++ ){
//						timer = setInterval( function (){
//							aLi[i].style.backgroundColor = 'lightpink';
//						},100 )
//
//					}
					timer = setInterval( function (){
						if( num >= aLi.length ){
							clearInterval( timer );
							return;
						}
						doMove( aLi[num],'top',23,0 );
						doFade( aLi[num],'opacity',0.1,0 );
						num++;
					},100 );
				}
				
			}
			function doFade ( obj,attr,dir,target) {
		        obj.style[attr] = target;
		    }
//			function doMove( obj,attr,dir,target,endFn ){
//				
//				dir = parseInt( getStyle( obj,attr ) ) < terget ? dir : -dir;
//				
//				clearInterval( obj.timer );
//				
//				obj.timer = setInterval( function (){
//					var speed = parseInt( getStyle( obj,attr )) + dir;
//					
//					if( speed > target && dir > 0 || speed < target && dir < 0 ){
//						speed = target;
//					}
//					
//					obj.style[attr] = speed + 'px';
//					
//					if( speed == target ){
//						clearInterval( obj.timer );
//						endFn && endFn();
//					}
//				},30 );
//			}
//			function getStyle( obj,attr ){
//				return obj.currentStyle ? obj.currentStyle[attr] : getComputedStyle( obj )[attr];
//			}
		</script>
	</head>
	<body>
		<div class="all">
			<div class="main">
				<ul class="list">
					<li>+1</li>
					<li>+1</li>
					<li>+1</li>
					<li>+1</li>
					<li>+1</li>
					<li>+1</li>
					<li>+1</li>
					<li>+1</li>
					<li>+1</li>
					<li>+1</li>
					<li>+1</li>
				</ul>
			</div>
		</div>
	</body>
</html>
