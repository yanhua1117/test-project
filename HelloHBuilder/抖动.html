<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			img{ 
				position:absolute; 
				top:200px; 
				left:300px; 
				width:180px; 
			}
			#img2{
				left:600px; 
			}
		</style>
		<script src="js/doMove.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			window.onload = function (){
				var oImg1 = document.getElementById('img1');
				var oImg2 = document.getElementById('img2');
//				oImg1.onclick = function (){
////						arr = [];
////					    num = 0;
////					    timer = null;
////					    pos = parseInt( getStyle(oImg,'left') );
////						for( var i = 20; i > 0; i-=2 ){
////						arr.push(i,-i);
////						}
////						arr.push(0);
////				
////						clearInterval( timer );
////						timer = setInterval( function (){
////							oImg.style.left = pos + arr[num] + 'px';
////							num++;
////							if( num === arr.length ){
////								clearInterval( timer );
////							}
////						},50 );
////					shake( oImg,'left',function(){
////						shake( oImg,'top' );
////					} );
//				}
				oImg1.onclick = fnShake;
				oImg2.onclick = fnShake;
				
				function fnShake(){
					var _this = this;
					shake( this,'left',function(){
						shake( this,'top' );
					} );
				}
			}	
			function shake(obj,attr,endFn){
				var arr = [];
			    var num = 0;
			    var timer = null;
			    var pos = parseInt( getStyle(obj,attr) );
			    
			    
				for( var i = 20; i > 0; i-=2 ){
				arr.push( i,-i );
				}
				arr.push(0);
		
				clearInterval( obj.shake );
				obj.shake = setInterval( function (){
					obj.style[attr] = pos + arr[num] + 'px';
					num++;
					if( num === arr.length ){
						clearInterval( obj.shake );
						endFn && endFn();
					}
				},50 );
			}
		</script>
	</head>
	<body>
		<img id="img1" src="img/HBuilder.png"/>
		<img id="img2" src="img/cake02.jpg"/>
	</body>
</html>
